<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
  <head th:replace="../fragments/header"></head>
  <body class="background-grey">
    <div class="defaultMargin py-3">
      <span class="directory-link">
        <a class="directory-link" th:href="@{/}">Home</a>
        <span class="mx-1">></span>
        <a class="directory-link-active" th:href="@{/store/1}">Products</a>
      </span>
    </div>
    <div class="product-details defaultMargin pb-5 row">
      <!--FILTERS-->
      <div class="col-3 p-0">
        <div class="filters p-4 mr-auto">
          <form th:action="@{/store/1/addFilters}" method="GET">
            <!--Header-->
            <div class="row d-flex align-items-center">
              <div class="col-4">
                <h1 class="m-0">FILTERS</h1>
              </div>
              <!--
              <div class="col-8">
                <input class="submit-style submit-style-small py-1 m-0" type="submit" value="APPLY FILTERS" />
              </div>
              -->
            </div>
            
            <hr>
  
            <!--Status-->
            <section>
              <h4>STATUS</h4>
              <div class="form-check">
                <input 
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${AVAILABLE}"
                  name="available"
                  id="checkbox-available"
                  value="available"
                >
                <label class="form-check-label" for="checkbox-available">
                  Available
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${PREORDER}"
                  name="preorder"
                  id="checkbox-preorder"
                  value="preorder"
                />
                <label class="form-check-label" for="checkbox-preorder">Preorder</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${OUTOFSTOCK}"
                  name="outOfStock"
                  id="checkbox-outofstock"
                  value="outOfStock"
                />
                <label class="form-check-label" for="checkbox-outofstock">Out of stock</label>
              </div>
            </section>
  
            <hr>
  
            <!--Recommendation-->
            <section>
              <h4>RECOMMENDATION</h4>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${BESTSELLER}"
                  name="bestSeller"
                  id="checkbox-bestSeller"
                  value="bestSeller"
                />
                <label class="form-check-label" for="checkbox-bestSeller">Best Seller</label>
              </div>
              
            </section>
  
            <hr>
            
            <!--Bands-->
            <section>
              <h4>BANDS</h4>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${BTS}"
                  name="bts"
                  id="checkbox-bts"
                  value="BTS"
                />
                <label class="form-check-label" for="checkbox-bts">BTS</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${BLACKPINK}"
                  name="blackpink"
                  id="checkbox-blackpink"
                  value="Blackpink"
                />
                <label class="form-check-label" for="checkbox-blackpink">Blackpink</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${DAY6}"
                  name="day6"
                  id="checkbox-day6"
                  value="Day6"
                />
                <label class="form-check-label" for="checkbox-day6">Day6</label> 
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${ENHYPEN}"
                  name="enhypen"
                  id="checkbox-enhypen"
                  value="ENHYPEN"
                />
                <label class="form-check-label" for="checkbox-enhypen">ENHYPEN</label> 
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${EXO}"
                  name="exo"
                  id="checkbox-exo"
                  value="EXO"
                />
                <label class="form-check-label" for="checkbox-exo">EXO</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${GIDLE}"
                  name="gIdle"
                  id="checkbox-gIdle"
                  value="(G)I-DLE"
                />
                <label class="form-check-label" for="checkbox-gIdle">(G)I-DLE</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${GIRLSGENERATION}"
                  name="girlsGeneration"
                  id="checkbox-girlsGeneration"
                  value="Girls Generation"
                />
                <label class="form-check-label" for="checkbox-girlsGeneration">Girls Generation</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${ITZY}"
                  name="itzy"
                  id="checkbox-itzy"
                  value="ITZY"
                />
                <label class="form-check-label" for="checkbox-itzy">ITZY</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${IU}"
                  name="iu"
                  id="checkbox-iu"
                  value="IU"
                />
                <label class="form-check-label" for="checkbox-iu">IU</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${MAMAMOO}"
                  name="mamamoo"
                  id="checkbox-mamamoo"
                  value="Mamamoo"
                />
                <label class="form-check-label" for="checkbox-mamamoo">Mamamoo</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${NCT}"
                  name="nct"
                  id="checkbox-nct"
                  value="NCT"
                />
                <label class="form-check-label" for="checkbox-nct">NCT</label> 
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${REDVELVET}"
                  name="redVelvet"
                  id="checkbox-redVelvet"
                  value="Red Velvet"
                />
                <label class="form-check-label" for="checkbox-redVelvet">Red Velvet</label> 
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${SEVENTEEN}"
                  name="seventeen"
                  id="checkbox-seventeen"
                  value="SEVENTEEN"
                />
                <label class="form-check-label" for="checkbox-seventeen">SEVENTEEN</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${STRAYKIDS}"
                  name="strayKids"
                  id="checkbox-strayKids"
                  value="Stray Kids"
                />
                <label class="form-check-label" for="checkbox-strayKids">Stray Kids</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${TWICE}"
                  name="twice"
                  id="checkbox-twice"
                  value="TWICE"
                />
                <label class="form-check-label" for="checkbox-twice">TWICE</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${TOMORROWXTOGETHER}"
                  name="tomorrowXTogether"
                  id="checkbox-tomorrowXTogether"
                  value="Tomorrow x Together"
                />
                <label class="form-check-label" for="checkbox-tomorrowXTogether">Tomorrow x Together</label>
              </div>
            </section>
  
            <hr>
  
            <!--Categories-->
            <section>
              <h4>CATEGORIES</h4>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${ALBUMS}"
                  name="album"
                  id="checkbox-albums"
                  value="Albums"
                />
                <label class="form-check-label" for="checkbox-albums">Albums</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${APPARELS}"
                  name="apparel"
                  id="checkbox-apparels"
                  value="Apparels"
                />
                <label class="form-check-label" for="checkbox-apparels">Apparel</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${DOLLS}"
                  name="doll"
                  id="checkbox-dolls"
                  value="Dolls"
                />
                <label class="form-check-label" for="checkbox-dolls">Dolls</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${IMAGEPICKETS}"
                  name="imagePicket"
                  id="checkbox-imagePickets"
                  value="Image Pickets"
                />
                <label class="form-check-label" for="checkbox-imagePickets">Image Pickets</label> 
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${KEYRINGS}"
                  name="keyRing"
                  id="checkbox-keyRings"
                  value="Key Rings"
                />
                <label class="form-check-label" for="checkbox-keyRings">Key Rings</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${LIGHTSTICKS}"
                  name="lightStick"
                  id="checkbox-lightSticks"
                  value="Light Sticks"
                />
                <label class="form-check-label" for="checkbox-lightSticks">Light Sticks</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${PACKAGES}"
                  name="package"
                  id="checkbox-packages"
                  value="Packages"
                />
                <label class="form-check-label" for="checkbox-packages">Packages</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${PHONECASES}"
                  name="phoneCase"
                  id="checkbox-phoneCases"
                  value="Phone Cases"
                />
                <label class="form-check-label" for="checkbox-phoneCases">Phone Cases</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${PHOTOBOOKS}"
                  name="photobook"
                  id="checkbox-photobooks"
                  value="Photobooks"
                />
                <label class="form-check-label" for="checkbox-photobooks">Photobooks</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${PHOTOCARDS}"
                  name="photocard"
                  id="checkbox-photocards"
                  value="Photocards"
                />
                <label class="form-check-label" for="checkbox-photocards">Photocards</label> 
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${POSTERS}"
                  name="poster"
                  id="checkbox-posters"
                  value="Posters"
                />
                <label class="form-check-label" for="checkbox-posters">Posters</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input" 
                  type="checkbox"
                  th:checked="${STICKERS}"
                  name="sticker"
                  id="checkbox-stickers"
                  value="Stickers"
                />
                <label class="form-check-label" for="checkbox-stickers">Stickers</label> 
              </div>
            </section>
            
            <hr>
  
            <!--Price Range-->
            <section>
              <h4>PRICE RANGE</h4>
              <div class="row d-flex align-items-center">
                <div class="col">
                  <input
                    class="form-control input-style m-0 py-1 px-2"
                    type="number"
                    name="priceMin"
                    id="input-price-min"
                    placeholder="₱ Min"
                    th:value="${priceMin}"
                    min="1"
                  />
                </div>
                →
                <div class="col">
                  <input
                    class="form-control input-style m-0 py-1 px-2"
                    type="number"
                    name="priceMax"
                    id="input-price-max"
                    placeholder="₱ Max"
                    th:value="${priceMax}"
                    min="1"
                  />
                </div>
              </div>
            </section>
  
            <hr>
  
            <!--Rating-->
            <section>
              <h4>RATING</h4>
              <div>
                <input type="checkbox" name="rating" id="star-five" value="5" />
                <label for="star-five" class="btn-rating">
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                </label>
              </div>
              <div>
                <input type="checkbox" name="rating" id="star-four" value="4" />
                <label for="star-four" class="btn-rating">
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <span class=" star-filter">and up</span>
                </label>
              </div>
              <div>
                <input type="checkbox" name="rating" id="star-three" value="3" />
                <label for="star-three" class="btn-rating">
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <span class=" star-filter">and up</span>
                </label>
              </div>
              <div>
                <input type="checkbox" name="rating" id="star-two" value="2" />
                <label for="star-two" class="btn-rating">
                  <i class="fas fa-star star-filter"></i>
                  <i class="fas fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <span class=" star-filter">and up</span>
                </label>
              </div>
              <div>
                <input type="checkbox" name="rating" id="star-one" value="1" />
                <label for="star-one" class="btn-rating">
                  <i class="fas fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <i class="far fa-star star-filter"></i>
                  <span class=" star-filter">and up</span>
                </label>
              </div>
            </section>
            
            <hr>
  
            <!--Apply Filters-->
            <section>
              <input class="submit-style submit-style-small py-1 m-0" type="submit" value="APPLY FILTERS" />
            </section>
          </form>
        </div>
      </div>
  
      <!--PRODUCTS-->
      <div class="col-9 p-0">
        <div class="store-products p-4">
          <!--
          <form th:action="@{/store/1/storeSearch}" method="GET" id="store-search">
            <input
              type="text"
              name="storeSearch"
              id="input-search"
              placeholder="Product name, Category, or Band"
            />
            <button type="submit">search</button>
          </form>
          -->
          <h1 class="mb-4">PRODUCTS</h1>
          <div class="row pb-4">
            <div th:if="${products.empty}">No products available</div>
            <div class="col-3 py-2" th:each="product: ${products}">
              <a th:href="@{|/product/${product.id}|}">
                <div class="card card-product d-flex align-items-center" style="width: 12rem;"> 
                  <div class="card-product-image-container d-flex align-items-center">
                    <div>
                      <img th:src="@{'/img/placeholder_product.png'}" th:alt="${product.productName + '-img.png'}" class="card-product-image"/>
                    </div>
                  </div>
                  <!-- <img
                    th:src="${product.image}"
                    th:alt="${product.productName + '-img.png'}"
                  /> -->
                  <div class="card-body card-product-body mr-auto">
                    <h4 class="product-name" th:text="${product.productName}"></h4>
                    <!-- <p class="product-category" th:text="${product.category}"></p> -->
                    <h3 class="product-price" th:text="${'₱ ' + product.price}"></h3>
                    <div th:each="i : ${#numbers.sequence(1, product.rating)}" class="container-star">
                      <form th:action="@{/rate}" method="POST">
                        <input type="hidden" name="rating" th:value="${i}" />
                        <input type="hidden" name="productId" th:value="${product.id}" />
                        <i class="fas fa-star star"></i>
                      </form>
                    </div>
                    <div th:if="${product.rating < 5}" th:each="i : ${#numbers.sequence(1, 5 - product.rating)}" class="container-star">
                      <form th:action="@{/rate}" method="POST">
                        <input type="hidden" name="rating" th:value="${i + product.rating}" />
                        <input type="hidden" name="productId" th:value="${product.id}" />
                        <i class="far fa-star star"></i>
                      </form>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>
    
          <div class="d-flex justify-content-center">
            <!-- Back button -->
            <a th:href="@{|/store/${newPage - 2}|}">
              <button class="btn-back pagination-button" th:if="${showBack == true and uri == null}">
                <i class="fas fa-chevron-left"></i>
              </button>
            </a>
            <a th:href="@{|/store/${newPage - 2}/${uri}|}">
              <button class="btn-back pagination-button" th:if="${showBack == true and uri != null}">
                <i class="fas fa-chevron-left"></i>
              </button>
            </a>
            
            <!-- Number buttons -->
            <a th:each="i : ${#numbers.sequence(1, totalPages)}" th:if="${newPage - 1 != i && totalPages > 1}" th:href="@{|/store/${i}|}">
              <button class="pagination-button" th:if="${uri == null}" th:text="${i}" ></button>
            </a>
            <a th:each="i : ${#numbers.sequence(1, totalPages)}" th:if="${newPage - 1 != i && totalPages > 1}" th:href="@{|/store/${i}/${uri}|}">
              <button class="pagination-button" th:if="${uri}" th:text="${i}" ></button>
            </a>
            <!-- (original number buttons code)
            <button
              class="pagination-button"
              th:each="i : ${#numbers.sequence(1, totalPages)}"
              th:if="${newPage - 1 != i && totalPages > 1}"
            >
              <a
                th:if="${uri == null}"
                th:href="@{|/store/${i}|}"
                th:text="${i}"
              ></a>
              <a
                th:if="${uri}"
                th:href="@{|/store/${i}/${uri}|}"
                th:text="${i}"
              ></a>
            </button>
            -->
    
            <!-- Next button -->
            <a th:href="@{|/store/${newPage}|}">
              <button class="btn-next pagination-button" th:if="${showNext == true and uri == null}">
                <i class="fas fa-chevron-right"></i>
              </button>
            </a>
            
            <a th:href="@{|/store/${newPage}/${uri}|}">
              <button class="btn-next pagination-button" th:if="${showNext == true and uri != null}">
                <i class="fas fa-chevron-right"></i>
               </button>
            </a>
          </div>
    
          <!--
          <button th:if="${cart}">
            <a
              th:href="@{/cart/home}"
              th:text="${'GO TO CART ('+ cart.getNumberOfProducts() + ')'}"
            ></a>
          </button>
          -->
        </div>
      </div>
    </div>
    <footer th:replace="../fragments/footer"></footer>
  </body>
</html>
